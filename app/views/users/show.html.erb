<div class="container">
	<div class="row">

		<%= render partial: 'users/info_sidebar', locals: {taggings: @taggings, tag: @tag, user: @user} %>

		<div class="col-lg-9 col-sm-11">

			<%= render 'users/nav_bar' %>

	    <%= search_form_for @search_user_article, url: user_path do |f| %>
	      <div class="form-inline my-lg-0 my-2">
	        <%= f.text_field :title_or_body_cont, class: "col-sm-10 col-xs-12 form-control", placeholder: @user.user_name + 'さんの記事を検索' %>
	        <%= f.button fa_icon("search"), class: 'col-sm-2 col-xs-12 btn btn-outline-dark my-lg-0 my-2'%>
	      </div>
	    <% end %>

			<% if Article.exists?(user_id: @user) %>
				<% if @search_user_article.result.count > 0 %>

				  <table class="table bg-white" id="articles">
					  <thead>
					    <tr>
					    	<th>
						    	<div class="row">
						    		<div class="col-12">
						    			<span><%= @search_user_article.result.count %>件の投稿</span>
						    		</div>
						    	</div>
					    	</th>
					    </tr>
					  </thead>

		    		<% if params[:q].present? %>
		    			<% if params[:q][:title_or_body_cont] != "" %>
			    			<p class="text-center font-weight-bold my-3">"<%= params[:q][:title_or_body_cont] %>"の検索結果</p>
		    			<% end %>
		    		<% end %>

				    <tbody class="page">

				    	<% @user_article.each do |article| %>

				    		<%= render 'articles/articles', article: article %>

					    <% end %>

				    </tbody>
				  </table>

			  <% elsif @search_user_article.result.count == 0 %>

			  	<p class="text-center font-weight-bold mt-3">"<%= params[:q][:title_or_body_cont] %>"を含む記事はありません</p>

			 	<% end %>

	    <% else %>

				<p class="text-center font-weight-bold mt-3"><%= @user.user_name %>さんの投稿した記事はありません</p>

	    <% end %>

	    <div class="row justify-content-center">
	    		<p class="col-12"><%= paginate @user_article %></p>
	    </div>

		</div>

	</div>
</div>